<!doctype html>
<html lang="es">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sopa de Letras - Active Mind</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100%;
        }

        html {
            height: 100%;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .back-button {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 10px 16px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .back-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
        }

        .game-title {
            font-size: 2rem;
            font-weight: bold;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0;
        }

        .game-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .game-info {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .level-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .level-badge {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .score {
            font-size: 1.1rem;
            font-weight: bold;
            color: #1e293b;
        }

        .progress-container {
            flex: 1;
            min-width: 200px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #10b981, #059669);
            width: 0%;
            transition: width 0.5s ease;
        }

        .game-board {
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .grid-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            flex: 1;
        }

        .word-grid {
            display: grid;
            gap: 1px;
            margin: 0 auto;
            user-select: none;
        }

        .grid-cell {
            width: 35px;
            height: 35px;
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .grid-cell:hover {
            background: #e0e7ff;
            border-color: #3b82f6;
        }

        .grid-cell.selected {
            background: #dbeafe;
            border-color: #3b82f6;
        }

        .grid-cell.found {
            background: #dcfce7;
            border-color: #10b981;
            color: #065f46;
        }

        .words-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            width: 200px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .words-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: #1e293b;
            margin-bottom: 15px;
            text-align: center;
        }

        .word-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .word-item {
            padding: 8px 12px;
            margin-bottom: 5px;
            background: #f1f5f9;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .word-item.found {
            background: #dcfce7;
            color: #065f46;
            text-decoration: line-through;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            justify-content: center;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6b7280, #4b5563);
            color: white;
            box-shadow: 0 4px 15px rgba(107, 114, 128, 0.3);
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(107, 114, 128, 0.4);
        }

        .level-complete {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .level-complete-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 400px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        }

        .level-complete h2 {
            color: #10b981;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .level-selector {
            display: flex;
            gap: 10px;
        }

        .level-btn {
            background: linear-gradient(135deg, #e2e8f0, #cbd5e1);
            border: 2px solid #94a3b8;
            border-radius: 12px;
            padding: 12px 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #475569;
            text-align: center;
            line-height: 1.2;
        }

        .level-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(148, 163, 184, 0.4);
        }

        .level-btn.active {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            border-color: #1d4ed8;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .level-btn small {
            font-size: 0.75rem;
            opacity: 0.8;
        }

        .hidden-word-alert {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            text-align: center;
            font-weight: 600;
            font-size: 0.9rem;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
        }

        @media (max-width: 768px) {
            .game-board {
                flex-direction: column;
            }

            .words-panel {
                width: 100%;
            }

            .grid-cell {
                width: 28px;
                height: 28px;
                font-size: 0.9rem;
            }

            .game-info {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }

            .game-title {
                font-size: 1.5rem;
            }

            .level-selector {
                justify-content: center;
            }

            .level-btn {
                padding: 8px 12px;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 480px) {
            .grid-cell {
                width: 24px;
                height: 24px;
                font-size: 0.8rem;
            }

            .words-panel {
                padding: 15px;
            }

            .game-container {
                padding: 15px;
            }

            .level-btn {
                padding: 6px 10px;
                font-size: 0.75rem;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <header class="header">
   <div class="header-content"><a href="juegos.html" class="back-button" id="back-button"> ‚Üê Volver a Juegos </a>
    <h1 class="game-title" id="game-title">Sopa de Letras</h1>
    <div></div>
   </div>
  </header>
  <div class="game-container">
   <div class="game-info">
    <div class="level-info">
     <div class="level-badge" id="level-badge">
      Nivel 1-A
     </div>
     <div class="score" id="score">
      Puntos: 0
     </div>
    </div>
    <div class="progress-container">
     <div class="progress-bar">
      <div class="progress-fill" id="progress-fill"></div>
     </div>
     <div style="text-align: center; margin-top: 5px; font-size: 0.9rem; color: #64748b;" id="progress-text">
      0 / 4 palabras encontradas
     </div>
    </div>
    <div class="level-selector"><button class="level-btn active" onclick="selectLevelSet(1)" id="level-1-btn">Nivel 1<br><small>Animales</small></button> <button class="level-btn" onclick="selectLevelSet(2)" id="level-2-btn">Nivel 2<br><small>Pa√≠ses</small></button> <button class="level-btn" onclick="selectLevelSet(3)" id="level-3-btn">Nivel 3<br><small>Frutas</small></button>
    </div>
   </div>
   <div class="game-board">
    <div class="grid-container">
     <div class="word-grid" id="word-grid"></div>
     <div class="controls"><button class="btn btn-secondary" onclick="resetLevel()">Reiniciar Nivel</button> <button class="btn btn-primary" onclick="nextLevel()" id="next-btn" style="display: none;">Siguiente Nivel</button>
     </div>
    </div>
    <div class="words-panel">
     <div class="words-title">
      Palabras a encontrar:
     </div>
     <ul class="word-list" id="word-list"></ul>
    </div>
   </div>
  </div>
  <div class="level-complete" id="level-complete">
   <div class="level-complete-content">
    <h2>üéâ ¬°Nivel Completado!</h2>
    <p id="completion-message">¬°Excelente trabajo!</p>
    <div style="margin: 20px 0;">
     <div id="level-score" style="font-size: 1.2rem; font-weight: bold; color: #3b82f6;"></div>
    </div><button class="btn btn-primary" onclick="continueGame()">Continuar</button>
   </div>
  </div>
  <script>
        // Configuraci√≥n por defecto
        const defaultConfig = {
            game_title: "Sopa de Letras",
            back_button: "‚Üê Volver a Juegos"
        };

        // Datos de los niveles
        const levelSets = {
            1: {
                name: "Animales",
                levels: [
                    { name: "1-A", size: 8, words: ["GATO", "PERRO", "LEON", "OSO"], points: 100 },
                    { name: "1-B", size: 8, words: ["PATO", "RANA", "LOBO", "PUMA"], points: 100 },
                    { name: "1-C", size: 9, words: ["TIGRE", "ZEBRA", "MONO", "CABRA"], points: 120 },
                    { name: "1-D", size: 9, words: ["JIRAFA", "ELEFANTE", "CAIMAN", "PERRO"], points: 120 },
                    { name: "1-E", size: 10, words: ["GACELA", "RENO", "LEOPARDO", "TEAMO"], points: 150, hidden: "TEAMO" }
                ]
            },
            2: {
                name: "Pa√≠ses",
                levels: [
                    { name: "2-A", size: 8, words: ["PERU", "CHILE", "BRASIL", "MEXICO"], points: 100 },
                    { name: "2-B", size: 8, words: ["ESPA√ëA", "FRANCIA", "ITALIA", "GRECIA"], points: 100 },
                    { name: "2-C", size: 9, words: ["CUBA", "COLOMBIA", "PARIS", "ECUADOR"], points: 120 },
                    { name: "2-D", size: 9, words: ["ALEMANIA", "PORTUGAL", "HOLANDA", "BELGICA"], points: 120 },
                    { name: "2-E", size: 10, words: ["AUSTRIA", "JAPON", "CHINA", "CANADA", "MUCHISIMO"], points: 150, hidden: "MUCHISIMO" }
                ]
            },
            3: {
                name: "Frutas y Verduras",
                levels: [
                    { name: "3-A", size: 8, words: ["MANZANA", "PERA", "UVA", "KIWI"], points: 100 },
                    { name: "3-B", size: 8, words: ["BANANA", "NARANJA", "LIMON", "FRESA"], points: 100 },
                    { name: "3-C", size: 9, words: ["COL", "LECHUGA", "TOMATE", "CEBOLLA"], points: 120 },
                    { name: "3-D", size: 9, words: ["APIO", "BROCOLI", "ESPINACA", "PEPINO"], points: 120 },
                    { name: "3-E", size: 10, words: ["COLIFLOR", "PITAJAYA", "CALABAZA", "LIMA", "THIAGO"], points: 150, hidden: "THIAGO" }
                ]
            }
        };

        let currentLevelSet = 1;
        let currentSubLevel = 0;
        let totalScore = 0;
        let grid = [];
        let foundWords = [];
        let isSelecting = false;
        let selectedCells = [];
        let startCell = null;

        // Inicializar juego
        function initGame() {
            loadLevel(currentLevelSet, currentSubLevel);
        }

        // Cargar nivel
        function loadLevel(levelSet, subLevel) {
            const levelData = levelSets[levelSet];
            if (!levelData || subLevel >= levelData.levels.length) {
                showSetComplete();
                return;
            }

            const level = levelData.levels[subLevel];
            foundWords = [];
            
            document.getElementById('level-badge').textContent = `${level.name} - ${levelData.name}`;
            updateProgress(level);
            
            // Mostrar alerta de palabra oculta si es nivel E
            showHiddenWordAlert(level);
            
            createGrid(level);
            displayWords(level.words);
        }

        // Mostrar alerta de palabra oculta
        function showHiddenWordAlert(level) {
            const existingAlert = document.querySelector('.hidden-word-alert');
            if (existingAlert) {
                existingAlert.remove();
            }

            if (level.hidden) {
                const alert = document.createElement('div');
                alert.className = 'hidden-word-alert';
                alert.innerHTML = `üîç ¬°Atenci√≥n! Este nivel contiene una palabra oculta especial: "${level.hidden}"`;
                
                const wordsPanel = document.querySelector('.words-panel');
                wordsPanel.insertBefore(alert, wordsPanel.firstChild);
            }
        }

        // Crear grilla
        function createGrid(level) {
            const gridElement = document.getElementById('word-grid');
            gridElement.style.gridTemplateColumns = `repeat(${level.size}, 1fr)`;
            gridElement.innerHTML = '';
            
            // Inicializar grilla vac√≠a
            grid = Array(level.size).fill().map(() => Array(level.size).fill(''));
            
            // Colocar palabras
            level.words.forEach(word => {
                placeWord(word, level.size);
            });
            
            // Llenar espacios vac√≠os con letras aleatorias
            fillEmptySpaces();
            
            // Crear elementos DOM
            for (let i = 0; i < level.size; i++) {
                for (let j = 0; j < level.size; j++) {
                    const cell = document.createElement('div');
                    cell.className = 'grid-cell';
                    cell.textContent = grid[i][j];
                    cell.dataset.row = i;
                    cell.dataset.col = j;
                    
                    cell.addEventListener('mousedown', startSelection);
                    cell.addEventListener('mouseenter', continueSelection);
                    cell.addEventListener('mouseup', endSelection);
                    
                    gridElement.appendChild(cell);
                }
            }
        }

        // Colocar palabra en la grilla
        function placeWord(word, gridSize) {
            let placed = false;
            let attempts = 0;
            
            while (!placed && attempts < 100) {
                const direction = Math.floor(Math.random() * 8); // 8 direcciones
                const row = Math.floor(Math.random() * gridSize);
                const col = Math.floor(Math.random() * gridSize);
                
                if (canPlaceWord(word, row, col, direction, gridSize)) {
                    placeWordInDirection(word, row, col, direction);
                    placed = true;
                }
                attempts++;
            }
        }

        // Verificar si se puede colocar palabra
        function canPlaceWord(word, row, col, direction, gridSize) {
            const directions = [
                [-1, -1], [-1, 0], [-1, 1],
                [0, -1],           [0, 1],
                [1, -1],  [1, 0],  [1, 1]
            ];
            
            const [dRow, dCol] = directions[direction];
            
            for (let i = 0; i < word.length; i++) {
                const newRow = row + i * dRow;
                const newCol = col + i * dCol;
                
                if (newRow < 0 || newRow >= gridSize || newCol < 0 || newCol >= gridSize) {
                    return false;
                }
                
                if (grid[newRow][newCol] !== '' && grid[newRow][newCol] !== word[i]) {
                    return false;
                }
            }
            
            return true;
        }

        // Colocar palabra en direcci√≥n espec√≠fica
        function placeWordInDirection(word, row, col, direction) {
            const directions = [
                [-1, -1], [-1, 0], [-1, 1],
                [0, -1],           [0, 1],
                [1, -1],  [1, 0],  [1, 1]
            ];
            
            const [dRow, dCol] = directions[direction];
            
            for (let i = 0; i < word.length; i++) {
                const newRow = row + i * dRow;
                const newCol = col + i * dCol;
                grid[newRow][newCol] = word[i];
            }
        }

        // Llenar espacios vac√≠os
        function fillEmptySpaces() {
            const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            
            for (let i = 0; i < grid.length; i++) {
                for (let j = 0; j < grid[i].length; j++) {
                    if (grid[i][j] === '') {
                        grid[i][j] = letters[Math.floor(Math.random() * letters.length)];
                    }
                }
            }
        }

        // Mostrar palabras
        function displayWords(words) {
            const wordList = document.getElementById('word-list');
            wordList.innerHTML = '';
            
            words.forEach(word => {
                const li = document.createElement('li');
                li.className = 'word-item';
                li.textContent = word;
                li.dataset.word = word;
                wordList.appendChild(li);
            });
        }

        // Selecci√≥n de celdas
        function startSelection(e) {
            isSelecting = true;
            selectedCells = [];
            startCell = {
                row: parseInt(e.target.dataset.row),
                col: parseInt(e.target.dataset.col)
            };
            
            selectCell(e.target);
        }

        function continueSelection(e) {
            if (!isSelecting) return;
            
            clearSelection();
            
            const endRow = parseInt(e.target.dataset.row);
            const endCol = parseInt(e.target.dataset.col);
            
            const cells = getCellsInLine(startCell.row, startCell.col, endRow, endCol);
            cells.forEach(cell => {
                const element = document.querySelector(`[data-row="${cell.row}"][data-col="${cell.col}"]`);
                if (element) selectCell(element);
            });
        }

        function endSelection() {
            if (!isSelecting) return;
            
            isSelecting = false;
            
            const selectedWord = selectedCells.map(cell => 
                grid[parseInt(cell.dataset.row)][parseInt(cell.dataset.col)]
            ).join('');
            
            checkWord(selectedWord);
            clearSelection();
        }

        // Obtener celdas en l√≠nea
        function getCellsInLine(startRow, startCol, endRow, endCol) {
            const cells = [];
            const deltaRow = endRow - startRow;
            const deltaCol = endCol - startCol;
            
            // Solo permitir l√≠neas rectas (horizontal, vertical, diagonal)
            if (deltaRow !== 0 && deltaCol !== 0 && Math.abs(deltaRow) !== Math.abs(deltaCol)) {
                return [{ row: startRow, col: startCol }];
            }
            
            const steps = Math.max(Math.abs(deltaRow), Math.abs(deltaCol));
            const stepRow = steps === 0 ? 0 : deltaRow / steps;
            const stepCol = steps === 0 ? 0 : deltaCol / steps;
            
            for (let i = 0; i <= steps; i++) {
                cells.push({
                    row: startRow + Math.round(i * stepRow),
                    col: startCol + Math.round(i * stepCol)
                });
            }
            
            return cells;
        }

        function selectCell(cell) {
            cell.classList.add('selected');
            selectedCells.push(cell);
        }

        function clearSelection() {
            selectedCells.forEach(cell => {
                cell.classList.remove('selected');
            });
            selectedCells = [];
        }

        // Verificar palabra
        function checkWord(word) {
            const levelData = levelSets[currentLevelSet];
            const level = levelData.levels[currentSubLevel];
            const normalizedWord = word.toUpperCase();
            const reversedWord = normalizedWord.split('').reverse().join('');
            
            const foundWord = level.words.find(w => 
                w === normalizedWord || w === reversedWord
            );
            
            if (foundWord && !foundWords.includes(foundWord)) {
                foundWords.push(foundWord);
                markWordAsFound(foundWord);
                totalScore += Math.round(level.points / level.words.length);
                updateScore();
                updateProgress(level);
                
                if (foundWords.length === level.words.length) {
                    setTimeout(() => completeLevel(), 500);
                }
            }
        }

        function markWordAsFound(word) {
            // Marcar palabra en la lista
            const wordElement = document.querySelector(`[data-word="${word}"]`);
            if (wordElement) {
                wordElement.classList.add('found');
            }
            
            // Marcar celdas en la grilla
            selectedCells.forEach(cell => {
                cell.classList.add('found');
            });
        }

        // Actualizar interfaz
        function updateScore() {
            document.getElementById('score').textContent = `Puntos: ${totalScore}`;
        }

        function updateProgress(level) {
            const progress = (foundWords.length / level.words.length) * 100;
            
            document.getElementById('progress-fill').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = 
                `${foundWords.length} / ${level.words.length} palabras encontradas`;
        }

        // Completar nivel
        function completeLevel() {
            const levelData = levelSets[currentLevelSet];
            const level = levelData.levels[currentSubLevel];
            const levelScore = Math.round(level.points * 0.2); // Bonus por completar
            totalScore += levelScore;
            
            document.getElementById('level-score').textContent = `+${levelScore} puntos bonus`;
            document.getElementById('completion-message').textContent = 
                currentSubLevel === levelData.levels.length - 1 ? 
                `¬°Has completado todos los niveles de ${levelData.name}!` : 
                `¬°Nivel ${level.name} completado!`;
            
            document.getElementById('level-complete').style.display = 'flex';
            updateScore();
        }

        function continueGame() {
            document.getElementById('level-complete').style.display = 'none';
            
            const levelData = levelSets[currentLevelSet];
            if (currentSubLevel < levelData.levels.length - 1) {
                currentSubLevel++;
                loadLevel(currentLevelSet, currentSubLevel);
            } else {
                showSetComplete();
            }
        }

        function showSetComplete() {
            const levelData = levelSets[currentLevelSet];
            document.getElementById('completion-message').textContent = 
                `¬°Felicidades! Has completado todos los niveles de ${levelData.name} con ${totalScore} puntos.`;
            document.getElementById('level-complete').style.display = 'flex';
            document.querySelector('#level-complete button').textContent = 'Continuar';
            document.querySelector('#level-complete button').onclick = () => {
                document.getElementById('level-complete').style.display = 'none';
                // Volver al primer nivel del set actual
                currentSubLevel = 0;
                loadLevel(currentLevelSet, currentSubLevel);
            };
        }

        // Seleccionar conjunto de niveles
        function selectLevelSet(setNumber) {
            currentLevelSet = setNumber;
            currentSubLevel = 0;
            
            // Actualizar botones activos
            document.querySelectorAll('.level-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`level-${setNumber}-btn`).classList.add('active');
            
            loadLevel(currentLevelSet, currentSubLevel);
        }

        // Controles
        function resetLevel() {
            loadLevel(currentLevelSet, currentSubLevel);
        }

        function nextLevel() {
            const levelData = levelSets[currentLevelSet];
            if (currentSubLevel < levelData.levels.length - 1) {
                currentSubLevel++;
                loadLevel(currentLevelSet, currentSubLevel);
            }
        }

        // Funci√≥n para actualizar la UI basada en la configuraci√≥n
        async function onConfigChange(config) {
            const gameTitle = config.game_title || defaultConfig.game_title;
            const backButton = config.back_button || defaultConfig.back_button;

            document.getElementById('game-title').textContent = gameTitle;
            document.getElementById('back-button').textContent = backButton;
        }

        // Funci√≥n para mapear capacidades
        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        // Funci√≥n para mapear valores del panel de edici√≥n
        function mapToEditPanelValues(config) {
            return new Map([
                ["game_title", config.game_title || defaultConfig.game_title],
                ["back_button", config.back_button || defaultConfig.back_button]
            ]);
        }

        // Inicializar el SDK cuando est√© disponible
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities,
                mapToEditPanelValues
            });
        }

        // Inicializar juego al cargar la p√°gina
        document.addEventListener('DOMContentLoaded', initGame);
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99a015d9332412b3',t:'MTc2MjM4NDg2NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>